<div class="p-4 border border-gray-200 rounded-lg">
  <%= form_with url: '#', local: true, class: 'space-y-4' do |form| %>
    <%= form.fields_for(:preferences) do |pref_form| %>
      <div class="space-y-3">
        <h4 class="font-medium">User Preferences</h4>
        <label class="flex items-center space-x-2">
          <%= pref_form.check_box(:dark_mode) %>
          <span>Enable dark mode</span>
        </label>
        <label class="flex items-center space-x-2">
          <%= pref_form.check_box(:compact_view) %>
          <span>Compact view</span>
        </label>
      </div>
    <% end %>
  <% end %>
  <div class="mt-4 p-3 bg-gray-50 rounded text-sm">
    <strong>Note:</strong> This demonstrates checkboxes within nested form attributes using fields_for.
  </div>
</div>