<div class="min-h-screen bg-gradient-to-br from-violet-50 to-purple-50 p-8 dark:from-slate-900 dark:to-violet-950">
  <!-- Header -->
  <div class="mb-12 text-center">
    <h1 class="mb-4 text-4xl font-bold text-slate-900 dark:text-slate-100">
      <%= pathogen_icon(:link, color: :primary, size: :xl, class: "inline mr-3") %> URL Synchronization
    </h1>

    <p class="mx-auto max-w-3xl text-lg text-slate-600 dark:text-slate-400">
      Make tabs bookmarkable and shareable with URL hash synchronization and browser navigation support.
    </p>
  </div>

  <!-- Live Demo with URL Sync -->
  <div class="mb-12">
    <h2 class="mb-6 flex items-center text-2xl font-semibold text-slate-900 dark:text-slate-100">
      <%= pathogen_icon(:cursor, color: :primary, class: "mr-3") %> Live Demo - Try It!
    </h2>

    <div class="overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800">
      <div
        class="
          border-b border-slate-200 bg-gradient-to-r from-violet-50 to-purple-50 p-6 dark:border-slate-600
          dark:from-violet-900/20 dark:to-purple-900/20
        "
      >
        <div class="space-y-3">
          <p class="flex items-center gap-2 text-slate-700 dark:text-slate-300">
            <%= pathogen_icon(:hand_pointing, color: :primary) %> <strong>Try this:</strong> Click tabs and watch the
            URL bar update with the tab hash!
          </p>

          <p class="flex items-center gap-2 text-slate-700 dark:text-slate-300">
            <%= pathogen_icon(:arrow_u_left_up, color: :primary) %> Use your browser's <strong>Back button</strong> to
            navigate between tabs
          </p>

          <p class="flex items-center gap-2 text-slate-700 dark:text-slate-300">
            <%= pathogen_icon(:bookmark, color: :primary) %> Bookmark this page while on a specific tab - it will
            return to that tab when you reload
          </p>
        </div>
      </div>

      <%= render(Pathogen::Tabs.new(
        id: 'url-sync-demo',
        label: 'URL synchronized tabs demo',
        sync_url: true
      )) do |tabs| %>
        <% tabs.with_tab(id: 'tab-getting-started', label: 'Getting Started', selected: true) %>
        <% tabs.with_tab(id: 'tab-how-it-works', label: 'How It Works') %>
        <% tabs.with_tab(id: 'tab-use-cases', label: 'Use Cases') %>
        <% tabs.with_tab(id: 'tab-implementation', label: 'Implementation') %>

        <% tabs.with_panel(id: 'panel-getting-started', tab_id: 'tab-getting-started') do %>
          <div class="space-y-4 p-6">
            <h3 class="text-xl font-semibold text-slate-900 dark:text-white">What is URL Sync?</h3>

            <p class="text-slate-700 dark:text-slate-300">
              URL synchronization automatically updates the browser's URL hash when you switch tabs, making the current
              tab state bookmarkable and shareable.
            </p>

            <div class="rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-900/20">
              <p class="text-sm text-blue-800 dark:text-blue-200">
                <strong>Check your URL bar right now!</strong> You should see something like
                <code class="rounded bg-blue-100 px-2 py-0.5 dark:bg-blue-900">#tab-getting-started</code>
              </p>
            </div>

            <div class="space-y-2">
              <h4 class="font-semibold text-slate-900 dark:text-white">Key Features:</h4>

              <ul class="ml-3 list-inside list-disc space-y-1 text-slate-700 dark:text-slate-300">
                <li>Automatic URL hash updates on tab changes</li>
                <li>Browser back/forward button support</li>
                <li>Initial tab selection from URL hash on page load</li>
                <li>Works with keyboard navigation too!</li>
                <li>Graceful fallback for invalid hashes</li>
              </ul>
            </div>
          </div>
        <% end %>

        <% tabs.with_panel(id: 'panel-how-it-works', tab_id: 'tab-how-it-works') do %>
          <div class="space-y-4 p-6">
            <h3 class="text-xl font-semibold text-slate-900 dark:text-white">How It Works</h3>

            <p class="mb-4 text-slate-700 dark:text-slate-300">
              The component listens for tab changes and browser history events to keep the URL and active tab in sync:
            </p>

            <div class="space-y-3">
              <div class="flex items-start gap-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700">
                <div
                  class="
                    flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 font-semibold
                    text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  1
                </div>

                <div>
                  <div class="mb-1 font-semibold text-slate-900 dark:text-white">User Clicks Tab</div>

                  <div class="text-sm text-slate-600 dark:text-slate-400">
                    Tab activates â†’ URL hash updates via
                    <code class="rounded bg-slate-100 px-1 dark:bg-slate-600">history.replaceState()</code>
                  </div>
                </div>
              </div>

              <div class="flex items-start gap-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700">
                <div
                  class="
                    flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 font-semibold
                    text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  2
                </div>

                <div>
                  <div class="mb-1 font-semibold text-slate-900 dark:text-white">Page Loads with Hash</div>

                  <div class="text-sm text-slate-600 dark:text-slate-400">
                    Component reads URL hash â†’ Activates matching tab (or falls back to default_index)
                  </div>
                </div>
              </div>

              <div class="flex items-start gap-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700">
                <div
                  class="
                    flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 font-semibold
                    text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  3
                </div>

                <div>
                  <div class="mb-1 font-semibold text-slate-900 dark:text-white">Browser Back/Forward</div>

                  <div class="text-sm text-slate-600 dark:text-slate-400">
                    Hash change event fires â†’ Component switches to corresponding tab
                  </div>
                </div>
              </div>

              <div class="flex items-start gap-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700">
                <div
                  class="
                    flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 font-semibold
                    text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  4
                </div>

                <div>
                  <div class="mb-1 font-semibold text-slate-900 dark:text-white">Keyboard Navigation</div>

                  <div class="text-sm text-slate-600 dark:text-slate-400">
                    Arrow keys change tab â†’ URL hash updates automatically (same as click)
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-6 rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-800 dark:bg-amber-900/20">
              <p class="text-sm text-amber-800 dark:text-amber-200">
                <strong>Note:</strong> Uses
                <code class="rounded bg-amber-100 px-1 dark:bg-amber-900">replaceState()</code> instead of
                <code class="rounded bg-amber-100 px-1 dark:bg-amber-900">pushState()</code> to avoid cluttering
                browser history with every tab change.
              </p>
            </div>
          </div>
        <% end %>

        <% tabs.with_panel(id: 'panel-use-cases', tab_id: 'tab-use-cases') do %>
          <div class="space-y-4 p-6">
            <h3 class="text-xl font-semibold text-slate-900 dark:text-white">Perfect Use Cases</h3>

            <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:file_text, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Documentation Sites</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Share direct links to specific documentation sections
                    </p>
                  </div>
                </div>
              </div>

              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:faders, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Settings Pages</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Link directly to specific settings sections
                    </p>
                  </div>
                </div>
              </div>

              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:presentation_chart, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Product Tours</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Guide users through sequential tabs with shareable URLs
                    </p>
                  </div>
                </div>
              </div>

              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:chart_bar, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Analytics Dashboards</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Bookmark specific report views
                    </p>
                  </div>
                </div>
              </div>

              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:user_circle_plus, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Profile Pages</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Share links to specific profile sections (e.g., photos, posts)
                    </p>
                  </div>
                </div>
              </div>

              <div class="rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/20">
                <div class="flex items-start gap-3">
                  <%= pathogen_icon(:shopping_cart_simple, color: :success) %>

                  <div>
                    <h4 class="mb-1 font-semibold text-green-900 dark:text-green-100">Multi-Step Forms</h4>

                    <p class="text-sm text-green-800 dark:text-green-200">
                      Preserve form progress in URL for browser back button
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>

        <% tabs.with_panel(id: 'panel-implementation', tab_id: 'tab-implementation') do %>
          <div class="space-y-4 p-6">
            <h3 class="text-xl font-semibold text-slate-900 dark:text-white">Implementation</h3>

            <p class="text-slate-700 dark:text-slate-300">
              Simply add <code class="rounded bg-slate-100 px-2 py-0.5 dark:bg-slate-700">sync_url: true</code> to
              enable URL synchronization:
            </p>

            <div
              class="
                overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4 shadow-sm dark:border-slate-700
                dark:bg-slate-900
              "
            >
              <pre class="text-sm"><code class="text-slate-800 dark:text-slate-200">&lt;%= render(Pathogen::Tabs.new( id: "my-tabs", label: "Content sections", sync_url: true # &lt;-- Enable URL sync )) do |tabs| %&gt; &lt;% tabs.with_tab(id: "tab-overview", label: "Overview") %&gt; &lt;% tabs.with_tab(id: "tab-settings", label: "Settings") %&gt; &lt;% tabs.with_panel(id: "panel-overview", tab_id: "tab-overview") do %&gt; Overview content &lt;% end %&gt; &lt;% tabs.with_panel(id: "panel-settings", tab_id: "tab-settings") do %&gt; Settings content &lt;% end %&gt; &lt;% end %&gt;              </code></pre>
            </div>

            <div class="mt-6 space-y-3">
              <h4 class="font-semibold text-slate-900 dark:text-white">Hash Format</h4>

              <p class="text-sm text-slate-700 dark:text-slate-300">
                The component supports multiple hash formats for flexibility:
              </p>

              <div class="space-y-2">
                <div class="rounded bg-slate-50 p-3 dark:bg-slate-700">
                  <code class="text-sm text-blue-600 dark:text-blue-400">#tab-overview</code>

                  <span class="ml-2 text-sm text-slate-600 dark:text-slate-400">
                    Matches tab with id="tab-overview"
                  </span>
                </div>

                <div class="rounded bg-slate-50 p-3 dark:bg-slate-700">
                  <code class="text-sm text-blue-600 dark:text-blue-400">#panel-overview</code>

                  <span class="ml-2 text-sm text-slate-600 dark:text-slate-400">
                    Matches panel with id="panel-overview"
                  </span>
                </div>

                <div class="rounded bg-slate-50 p-3 dark:bg-slate-700">
                  <code class="text-sm text-blue-600 dark:text-blue-400">#tab-0</code>
                  <span class="ml-2 text-sm text-slate-600 dark:text-slate-400">Matches tab by index (zero-based)</span>
                </div>
              </div>
            </div>

            <div class="mt-6 rounded-lg border border-violet-200 bg-violet-50 p-4 dark:border-violet-800 dark:bg-violet-900/20">
              <h4 class="mb-2 font-semibold text-violet-900 dark:text-violet-100">ðŸ’¡ Pro Tips</h4>

              <ul class="list-inside list-disc space-y-1 text-sm text-violet-800 dark:text-violet-200">
                <li>Use descriptive tab IDs for SEO-friendly URLs</li>

                <li>
                  Hash updates use <code class="rounded bg-violet-100 px-1 dark:bg-violet-900">replaceState()</code> to
                  avoid history pollution
                </li>

                <li>Component gracefully falls back to default_index for invalid hashes</li>
                <li>Works seamlessly with keyboard navigation</li>
                <li>Browser back/forward automatically supported</li>
              </ul>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>

  <!-- Browser Navigation Demo -->
  <div>
    <h2 class="mb-6 flex items-center text-2xl font-semibold text-slate-900 dark:text-slate-100">
      <%= pathogen_icon(:arrows_counter_clockwise, color: :primary, class: "mr-3") %> Browser Navigation Support
    </h2>

    <div class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800">
      <div class="prose dark:prose-invert max-w-none">
        <p class="mb-6 text-slate-700 dark:text-slate-300">
          The component automatically integrates with browser navigation, making the tabs feel like native browser
          pages:
        </p>

        <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
          <div class="space-y-4">
            <h3 class="flex items-center gap-2 text-lg font-semibold text-slate-900 dark:text-white">
              <%= pathogen_icon(:arrow_left, color: :primary) %> Back Button
            </h3>

            <ol class="space-y-2 text-sm text-slate-700 dark:text-slate-300">
              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  1
                </span>

                <span>Click through several tabs above</span>
              </li>

              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  2
                </span>

                <span>Press your browser's Back button</span>
              </li>

              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  3
                </span>

                <span>Watch the tabs navigate backward!</span>
              </li>
            </ol>
          </div>

          <div class="space-y-4">
            <h3 class="flex items-center gap-2 text-lg font-semibold text-slate-900 dark:text-white">
              <%= pathogen_icon(:arrow_right, color: :primary) %> Forward Button
            </h3>

            <ol class="space-y-2 text-sm text-slate-700 dark:text-slate-300">
              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  1
                </span>

                <span>After going back, press Forward</span>
              </li>

              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  2
                </span>

                <span>Tabs navigate forward in history</span>
              </li>

              <li class="flex items-start gap-2">
                <span
                  class="
                    flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-violet-100 text-xs
                    font-semibold text-violet-600 dark:bg-violet-900 dark:text-violet-300
                  "
                >
                  3
                </span>

                <span>Full browser integration!</span>
              </li>
            </ol>
          </div>
        </div>

        <div class="mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-900/20">
          <div class="flex items-start gap-3">
            <%= pathogen_icon(:lightbulb, color: :primary) %>

            <div class="text-sm">
              <strong class="text-blue-900 dark:text-blue-100">Implementation Detail:</strong>

              <span class="text-blue-800 dark:text-blue-200">
                The component listens for <code class="rounded bg-blue-100 px-1 dark:bg-blue-900">hashchange</code>
                events and automatically switches tabs when the URL hash changes from browser navigation.
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
