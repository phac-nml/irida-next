# Read about fixtures at https://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html

DEFAULTS: &DEFAULTS
  workflow_type: "NFL"
  workflow_type_version: "DSL2"
  workflow_engine: "nextflow"
  workflow_engine_version: "23.10.0"
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }

workflow_execution_valid:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.3" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>

workflow_execution_gasclustering:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/gasclustering", "workflow_version": "0.4.2" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "0.4.2" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>

workflow_execution_invalid_metadata:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "missing a param here": "invalid" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>

workflow_execution_invalid_workflow:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "invalid" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>

workflow_execution_invalid_namespace:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_3"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:john_doe_namespace, :uuid) %>

irida_next_example:
  <<: *DEFAULTS
  metadata:
    { workflow_name: "phac-nml/iridanextexample", workflow_version: "1.0.2" }
  workflow_params: { "assembler": "stub" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  email_notification: true
  cleaned: false

irida_next_example_nonexecutable:
  <<: *DEFAULTS
  metadata:
    { workflow_name: "phac-nml/iridanextexample", workflow_version: "1.0.0" }
  workflow_params: { "assembler": "stub" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  email_notification: true
  cleaned: false

irida_next_example_prepared:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "irida_next_example_prepared",
      "workflow_version": "1.0dev",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_prepared"
  run_id: "my_run_id_4"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "prepared"
  email_notification: true
  cleaned: false

irida_next_example_submitted:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_prepared"
  run_id: "my_run_id_5"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "submitted"
  cleaned: false

irida_next_example_completed:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/nextflow/samplesheet_schema.json",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_6"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: true

irida_next_example_completed_2_files:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_6"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  name: 'irida_next_example_completed_2_files'
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: true

irida_next_example_completed_unclean:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed_unclean"
  run_id: "my_run_id_6a"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false

irida_next_example_error:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_error"
  run_id: "my_run_id_7"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "error"
  cleaned: true

irida_next_example_error_unclean:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_error_unclean"
  run_id: "my_run_id_7a"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "error"
  cleaned: false

irida_next_example_canceling:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_canceling"
  run_id: "my_run_id_8"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "canceling"
  cleaned: false

irida_next_example_canceled:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "irida_next_example_canceled",
      "workflow_version": "1.0dev",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_canceled"
  run_id: "my_run_id_9"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "canceled"
  cleaned: true

irida_next_example_canceled_unclean:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_canceled_unclean"
  run_id: "my_run_id_9a"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "canceled"
  cleaned: false

irida_next_example_running:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_running"
  run_id: "my_run_id_10"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "running"
  cleaned: false

irida_next_example_new:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_new"
  run_id: "my_run_id_12"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "initial"
  cleaned: false

irida_next_example_completing_a:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_a"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  email_notification: true
  cleaned: false

irida_next_example_completing_b:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_b"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  cleaned: false

irida_next_example_completing_c:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_c"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  update_samples: true
  cleaned: false

irida_next_example_completing_d:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_d"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  cleaned: false

irida_next_example_completing_e:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_e"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  cleaned: false

irida_next_example_completing_f:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_f"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  update_samples: false
  email_notification: true
  cleaned: false

irida_next_example_completing_g:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_g"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:projectA_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  update_samples: true
  email_notification: true
  cleaned: false

irida_next_example_completing_h:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed"
  run_id: "my_run_id_h"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jeff_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  state: "completing"
  blob_run_directory: "not a run dir"
  update_samples: true
  cleaned: false

irida_next_example_completed_with_output:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed_with_output"
  run_id: "my_run_id_13"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:projectA_namespace, :uuid) %>
  name: "irida_next_example_completed_with_output"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false

automated_workflow_execution:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "project_name": "assembly",
    "random_seed": "1",
  }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_completed_with_output"
  run_id: "my_run_id_13"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: true

<% (1..25).each do |n| %>
workflow_execution<%= (n) %>:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_example_new"
  run_id: <%= "my_run_id_#{n}" %>
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:jane_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project33_namespace, :uuid) %>
  state: "initial"
  cleaned: false
<% end %>

workflow_execution_existing:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "project_name": "assembly",
    "random_seed": "1",
  }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>

automated_example_prepared:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_prepared"
  run_id: "my_run_id_4"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "prepared"
  email_notification: true
  cleaned: false

automated_example_submitted:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_submitted"
  run_id: "my_run_id_5"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "submitted"
  cleaned: false

automated_example_completed:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_completed"
  run_id: "my_run_id_6"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  name: "automated_example_completed"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: true

automated_example_error:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_error"
  run_id: "my_run_id_7"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "error"
  cleaned: true

automated_example_canceling:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_canceling"
  run_id: "my_run_id_8"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "canceling"
  cleaned: false

automated_example_canceled:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_canceled"
  run_id: "my_run_id_9"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  name: "automated_example_canceled"
  state: "canceled"
  cleaned: true

automated_example_running:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_running"
  run_id: "my_run_id_10"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "running"
  cleaned: false

automated_example_new:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/automated_example_new"
  run_id: "my_run_id_12"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  state: "initial"
  cleaned: false

automated_workflow_execution_existing:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "project_name": "assembly",
    "random_seed": "1",
  }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:project1_automation_bot, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  cleaned: false

irida_next_example_end_to_end:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  state: "initial"
  cleaned: false

irida_next_example_completed_DELETE:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "completed"
  cleaned: true

irida_next_example_error_DELETE:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.2" }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "error"
  cleaned: true

irida_next_example_canceled_DELETE:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.2" }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "canceled"
  cleaned: true

irida_next_example_completed_unclean_DELETE:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.2" }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "completed"
  cleaned: false

irida_next_example_error_unclean_DELETE:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.2" }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "error"
  cleaned: false

irida_next_example_canceled_unclean_DELETE:
  <<: *DEFAULTS
  metadata: { "workflow_name": "phac-nml/iridanextexample", "workflow_version": "1.0.2" }
  workflow_params: {
    "assembler": "stub",
    "random_seed": 1,
    "project_name": "assembly"
  }
  workflow_engine_parameters: { "-r": "1.0.2" }
  workflow_url: "https://github.com/phac-nml/iridanextexample"
  run_id: "my_run_id_completed_DELETE"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:janitor_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project_janitor_namespace, :uuid) %>
  blob_run_directory: "not a run dir"
  state: "canceled"
  cleaned: false

workflow_execution_valid_on_group:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_group_run_id_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>

workflow_execution_shared1:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_shared_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:john_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  shared_with_namespace: true

workflow_execution_shared2:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_shared_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project1_namespace, :uuid) %>
  shared_with_namespace: true

workflow_execution_shared3:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_shared_3"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project2_namespace, :uuid) %>
  shared_with_namespace: true

workflow_execution_completed_shared1:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_shared_example_completed_with_output"
  run_id: "my_run_id_shared_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project22_namespace, :uuid) %>
  name: "irida_next_user_shared_example_completed_with_output"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false
  shared_with_namespace: true

workflow_execution_completed_shared2:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_shared_example_completed_with_output"
  run_id: "my_run_id_shared_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:micha_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:project22_namespace, :uuid) %>
  name: "irida_next_member_shared_example_completed_with_output"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared1:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "project_name": "assembly",
    "random_seed": "1",
  }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:joan_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Example1"
  shared_with_namespace: true

workflow_execution_group_shared2:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params: {
    "assembler": "stub",
    "project_name": "assembly",
    "random_seed": "1",
  }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Example2"
  shared_with_namespace: true

workflow_execution_group_shared3:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared_3"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Example3"
  shared_with_namespace: true

workflow_execution_completed_group_shared1:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.3",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_shared_example_completed_with_output"
  run_id: "my_run_id_group_shared_1"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_five, :uuid) %>
  name: "irida_next_user_group_shared_example_completed_with_output"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false
  shared_with_namespace: true

workflow_execution_completed_group_shared2:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.3",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/irida_next_shared_example_completed_with_output"
  run_id: "my_run_id_group_shared_2"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:micha_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_five, :uuid) %>
  name: "irida_next_user_group_shared_example_completed_with_output"
  state: "completed"
  blob_run_directory: "not a run dir"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_new:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared New"
  state: "initial"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_prepared:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Prepared"
  state: "prepared"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_submitted:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Submitted"
  state: "submitted"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_completed:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Completed"
  state: "completed"
  cleaned: true
  shared_with_namespace: true

workflow_execution_group_shared_running:
  <<: *DEFAULTS
  metadata: { "workflow_name": "wn1", "workflow_version": "wv1" }
  workflow_params: { "key_a": "value_a" }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "my_workflow_url"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Running"
  state: "running"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_error:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/group_workflow_example_error"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  state: "error"
  cleaned: true
  shared_with_namespace: true

workflow_execution_group_shared_canceling:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/workflow_execution_group_shared_canceling"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  state: "canceling"
  cleaned: false
  shared_with_namespace: true

workflow_execution_group_shared_canceled:
  <<: *DEFAULTS
  metadata:
    {
      "workflow_name": "phac-nml/iridanextexample",
      "workflow_version": "1.0.2",
    }
  workflow_params:
    {
      "input": "/blah/samplesheet.csv",
      "outdir": "/blah/output",
    }
  workflow_engine_parameters: { "-r": "dev" }
  workflow_url: "https://github.com/phac-nml/group_workflow_example_canceled"
  run_id: "my_run_id_group_shared"
  submitter_id: <%= ActiveRecord::FixtureSet.identify(:james_doe, :uuid) %>
  namespace_id: <%= ActiveRecord::FixtureSet.identify(:group_one, :uuid) %>
  name: "Group Shared Canceled"
  state: "canceled"
  cleaned: true
  shared_with_namespace: true
