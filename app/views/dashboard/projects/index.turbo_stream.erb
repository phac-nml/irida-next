<%= turbo_stream.update("projects_list") do %>
  <table class="min-w-full table-fixed dark:divide-slate-600">
    <tbody
      class="
        bg-white
        divide-y
        divide-slate-200
        dark:bg-slate-800
        dark:divide-slate-700
      "
    >
      <%= render partial: "dashboard/projects/project", collection: @projects %>
    </tbody>
  </table>
<% end %>

<%= turbo_stream.update "projects_pagination" do %>
  <%= render PaginationComponent.new(
    info: pagy_info(@pagy),
    prev_url:
      (
        if @pagy.prev
          pagy_url_for(@pagy, @pagy.prev).gsub(
            "projects.turbo_stream",
            "projects"
          )
        else
          nil
        end
      ),
    next_url:
      (
        if @pagy.next
          pagy_url_for(@pagy, @pagy.next).gsub(
            "projects.turbo_stream",
            "projects"
          )
        else
          nil
        end
      )
  ) %>
<% end %>
