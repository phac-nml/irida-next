<%= turbo_stream.update "samplesheet" do %>
  <%= render Nextflow::SamplesheetComponent.new(
    schema: @schema,
    samples: @samples,
    namespace_id: @namespace_id,
    fields: @fields,
    workflow_params: {
      name: @workflow_params[:name],
      version: @workflow_params[:version],
    },
    allowed_to_update_samples: @allowed_to_update_samples,
  ) %>
<% end %>

<%= turbo_stream.prepend "samplesheet_message" do
  viral_alert(
    type: "success",
    message: t("components.nextflow_component.loading_complete"),
    aria: {
      live: "assertive",
    },
    classes: "mb-2",
  )
end %>
