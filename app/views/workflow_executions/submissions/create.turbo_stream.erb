<%= turbo_stream.update "samples_dialog" do %>
  <%= viral_dialog(open: true, size: :extra_large) do |dialog| %>
    <% dialog.with_header(title: t(:".title", workflow: @workflow.name)) %>
    <% if Flipper.enabled?(:prerendered_samplesheet) %>
      <%= render PrerenderedNextflowComponent.new(
        workflow: @workflow,
        url: workflow_executions_path,
        sample_count: @sample_count,
        namespace_id: @namespace_id,
        fields: @fields,
      ) %>
    <% else %>
      <%= render NextflowComponent.new(
        workflow: @workflow,
        url: workflow_executions_path,
        samples: @samples,
        allowed_to_update_samples: @allowed_to_update_samples,
        namespace_id: @namespace_id,
        fields: @fields,
      ) %>
    <% end %>
  <% end %>
<% end %>
