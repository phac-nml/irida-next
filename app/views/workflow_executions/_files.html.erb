<div class="flex flex-row-reverse mb-4">
  <% if Flipper.enabled?(:workflow_execution_attachments_searching) %>
    <%= render SearchComponent.new(
              query: @q,
              search_attribute: :puid_or_file_blob_filename_cont,
              placeholder: t(".search.placeholder"),
              url: workflow_execution_path(@workflow_execution),
              html: {
                "data-turbo-permanent": "true",
              }
            ) do %>
      <%= hidden_field_tag :limit, @pagy.limit %>
      <%= hidden_field_tag :tab, @tab %>
    <% end %>
  <% end %>
</div>

<%= render Attachments::TableComponent.new(
  @attachments,
  @pagy,
  @q,
  nil,
  nil,
  @workflow_execution,
  true,
  @has_attachments,
  abilities: {
  },
  row_actions: {
  },
  empty: {
    icon_name: :document_text,
    title: t(".empty.title"),
    description: t(".empty.description"),
  },
) %>
