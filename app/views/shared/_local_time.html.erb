<script>
import("local-time").then(module => {
  LocalTime = module.default
  <%= %(LocalTime.config.i18n["#{I18n.locale}"] = #{t('local_time').to_json}).html_safe if I18n.locale != :en %>
  LocalTime.config.locale = "<%= I18n.locale %>"
  LocalTime.start()
})
</script>

<!-- Embed locale translations for turbo:morph events -->
<% if I18n.locale != :en %>
  <script type="application/json" id="local-time-i18n" data-locale="<%= I18n.locale %>">
    <%= t('local_time').to_json.html_safe %>
  </script>
<% end %>
