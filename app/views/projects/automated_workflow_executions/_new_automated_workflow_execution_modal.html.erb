<%= viral_dialog(open: true, size: :extra_large) do |dialog| %>
  <% dialog.with_header(title: t(:".title", workflow: @workflow.name)) %>
  <% if Flipper.enabled?(:deferred_samplesheet) %>
    <%= render DeferredNextflowComponent.new(
      workflow: @workflow,
      url: namespace_project_automated_workflow_executions_path,
      sample_count: nil,
      namespace_id: @project.namespace.id,
      fields: nil,
    ) %>

  <% else %>
    <%= render NextflowComponent.new(
      workflow: @workflow,
      url: namespace_project_automated_workflow_executions_path,
      samples: Sample.none,
      allowed_to_update_samples: true,
      namespace_id: @project.namespace.id,
      fields: nil,
    ) %>
  <% end %>
<% end %>
