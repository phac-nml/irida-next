<%= render Viral::PageHeaderComponent.new(title: "Bot Accounts", subtitle: "Setup bot accounts to perform actions within the project that cannot be attributed to a single user") do |component| %>
  <%= component.with_icon(name: "users", classes: "h-14 w-14 text-primary-700") %>
  <%= component.with_buttons do %>

      <%= link_to "Add New Bot Account",
      new_namespace_project_bot_path(
        @namespace.parent,
        @namespace.project
      ),
       data: {
        turbo_frame: "new_bot_modal",
        turbo_stream: true
      },
      class: "button button--state-default button--size-default" %>

  <% end %>
<% end %>

 <div class="flex flex-col">
    <%= turbo_frame_tag "new_bot_modal" %>
    <%= turbo_frame_tag "bots", "data-turbo-temporary": true,
                        src: namespace_project_bots_path(
                                    format: :turbo_stream
                                  ),
                        loading: :lazy do %>
      <table class="min-w-full table-fixed dark:divide-gray-600">
        <tbody
          class="
            bg-white
            divide-y
            divide-gray-200
            dark:bg-gray-800
            dark:divide-gray-700
          "
        >
          <% 10.times do %>
            <tr>

              <td class="p-4 animate-pulse">
                <div class="flex-1 py-1 space-y-6">
                  <div class="space-y-3">
                    <div class="w-48 h-2 rounded bg-slate-200"></div>
                    <div class="w-32 h-2 rounded bg-slate-200"></div>
                  </div>
                </div>
              </td>

            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
    <%= turbo_frame_tag "bots_pagination", "data-turbo-temporary": true %>
  </div>
