<% if @query.errors.any? %>
  <% @query.groups.each_with_index do |group, group_index| %>
    <%= turbo_stream.update "group-error-messages-#{group_index}",
                        partial: "projects/samples/search/errors",
                        locals: {
                          errors: group.errors,
                        } %>
  <% end %>
<% else %>
  <%= turbo_stream.update "table-filter",
                      partial: "table_filter",
                      locals: {
                        open: false,
                      } %>
<% end %>
<turbo-stream action="refresh"></turbo-stream>
