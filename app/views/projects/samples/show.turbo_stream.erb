<%= turbo_stream.update "table-listing" do %>
  <% if @tab == 'metadata' %>
    <% render partial: "projects/samples/metadata/table",
    locals: {
      sample_metadata: @table_listing
    } %>
  <% else %>
    <% render partial: "projects/samples/attachments/table",
    locals: {
      attachments: @table_listing
    } %>
  <% end %>
<% end %>

<%= turbo_stream.update "metadata_sort_dropdown" do %>
  <%= render Ransack::SortDropdownComponent.new(
    @q,
    "samples",
    [{ name: "updated_at", dir: "desc" }, { name: "updated_at", dir: "asc" }]
  ) %>
<% end %>

<%= turbo_stream.update "metadata_hidden_search_value" do %>
  <%= render Ransack::HiddenSortFieldComponent.new(@q) %>
<% end %>
