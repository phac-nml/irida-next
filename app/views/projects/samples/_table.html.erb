<table
  id="samples-table"
  class="min-w-full table-fixed dark:divide-slate-600"
  data-controller="selection"
  data-selection-action-link-outlet=".action-link"
>
  <tbody
    class="
      bg-white
      divide-y
      divide-slate-200
      dark:bg-slate-800
      dark:divide-slate-700
    "
  >
    <% samples.each do |sample| %>
      <tr
        id="<%= sample.id %>"
        class="text-sm font-normal text-slate-500 dark:text-slate-400"
      >
        <% if allowed_to?(:transfer_sample?, project) %>
          <td class="w-10 ps-4">
            <%= check_box_tag "sample_ids[]",
            sample.id,
            nil,
            id: dom_id(sample),
            "aria-label": sample.name,
            data: {
              action: "input->selection#toggle",
              selection_target: "rowSelection"
            },
            class:
              "w-4 h-4 text-primary-600 bg-slate-100 border-slate-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-slate-800 focus:ring-2 dark:bg-slate-700 dark:border-slate-600" %>
          </td>
        <% end %>
        <td class="p-4 whitespace-nowrap">
          <%= link_to sample.name,
          namespace_project_sample_path(id: sample.id),
          data: {
            turbo: false
          },
          class: "text-grey-900 dark:text-grey-100 font-semibold hover:underline" %>
          <div class="text-sm font-normal text-slate-500 dark:text-slate-400"><%= sample.description %></div>
        </td>
        <% if allowed_to?(:update_sample?, project) %>
          <td class="px-4 py-3">
            <div class="flex items-center justify-end">
              <%= viral_dropdown(icon: "ellipsis_vertical", aria: { label: t(:'projects.samples.index.actions.dropdown_aria_label', sample_name: sample.name) }) do |dropdown| %>
                <%= dropdown.with_item(
                  label: t(:"projects.samples.index.edit_button"),
                  url: edit_namespace_project_sample_path(id: sample.id),
                  data: {
                    turbo: false
                  }
                ) %>
                <% if allowed_to?(:destroy_sample?, @project) %>
                  <%= dropdown.with_item(
                    label: t(:"projects.samples.index.remove_button"),
                    url: namespace_project_sample_path(id: sample.id),
                    data: {
                      turbo_method: :delete,
                      turbo_confirm: t(:"projects.samples.index.remove_button_confirmation")
                    }
                  ) %>
                <% end %>
              <% end %>
            </div>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
