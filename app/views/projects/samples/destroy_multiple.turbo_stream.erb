<%= turbo_stream.update(
  "samples_dialog",
  partial: "delete_samples_dialog",
  locals: {
    open: false,
  },
) %>

<% if defined?(messages) %>
  <% messages.each do |m| %>
    <%= turbo_stream.append "flashes" do %>
      <%= viral_flash(type: m[:type], data: m[:message]) %>
    <% end %>
  <% end %>
<% else %>
  <%= turbo_stream.append "flashes" do %>
    <%= viral_flash(type:, data: message) %>
  <% end %>
<% end %>

<%= turbo_stream.update "project_samples_list",
                    partial: "table",
                    locals: {
                      project: @project,
                      samples: @samples,
                    } %>

<%= turbo_stream.update "project_samples_pagination",
                    partial: "pagination",
                    locals: {
                      project: @project,
                      pagy: @pagy,
                    } %>
