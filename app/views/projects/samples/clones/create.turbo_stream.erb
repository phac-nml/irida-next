<% if @project.errors.include?(:sample) %>
  <%= turbo_stream.replace "clone_samples_dialog_content",
                       partial: "errors",
                       locals: {
                         type: type,
                         errors: errors
                       } %>
<% else %>
  <% if @project.errors.empty? %>
    <%= turbo_stream.append "flashes" do %>
      <%= viral_flash(type:, data: message) %>
    <% end %>
  <% else %>
    <%= turbo_stream.update "samples_alert",
                        viral_alert(type:, message:, classes: "mb-4") %>
  <% end %>
  <%= turbo_stream.update "samples_dialog", partial: "dialog", locals: { open: false } %>
  <%= turbo_stream.replace "project_samples_list" do %>
    <%= turbo_frame_tag "project_samples_list",
    src: project_samples_path(@project, format: :turbo_stream) %>
  <% end %>
<% end %>
