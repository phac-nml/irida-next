<% if @has_group_links %>
  <% if @pagy.count.positive? %>
    <%= render PaginationComponent.new(
      info: @pagy.info_tag,
      prev_url:
        (
          if @pagy.previous
            namespace_project_group_links_url(
              page: @pagy.previous,
              q: params[:q]&.to_unsafe_h,
            )
          else
            nil
          end
        ),
      next_url:
        (
          if @pagy.next
            namespace_project_group_links_url(
              page: @pagy.next,
              q: params[:q]&.to_unsafe_h,
            )
          else
            nil
          end
        ),
      autofocus_link: params.key?(:page),
    ) %>
  <% else %>
    <%= render Viral::EmptyStateComponent.new(
      icon_name: :magnifying_glass,
      title: t("components.viral.pagy.empty_state.title"),
      description: t("components.viral.pagy.empty_state.description"),
    ) %>
  <% end %>
<% end %>
