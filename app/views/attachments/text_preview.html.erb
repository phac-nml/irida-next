<% contents = @attachment.file.download %>
<div class="hidden" data-copy-target="source">
  <%= contents %>
</div>
<div
  class="
    p-4 mb-4 text-sm text-slate-800 rounded-lg bg-slate-50 dark:bg-slate-800
    dark:text-slate-300
  "
  role="alert"
>
  <div class="font-mono">
    <% contents.lines.each_with_index do |line, index| %>
      <div class="flex">
        <span
          class="
            w-12 pr-2 text-right border-r select-none text-slate-400 dark:text-slate-500
            border-slate-200 dark:border-slate-700
          "
        >
          <%= index + 1 %>
        </span>
        <span class="pl-4"><%= line.strip %></span>
      </div>
    <% end %>
  </div>
</div>
