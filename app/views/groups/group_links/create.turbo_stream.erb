<% if @namespace_group_link %>
  <%= turbo_stream.update "invited-groups-count",
                      @namespace_group_link
                        .namespace
                        .shared_with_group_links
                        .count %>
<% end %>

<% if @group_invited %>
  <%= @namespace_group_link.inspect %>
  <%= turbo_stream.append "invited-groups-table-body",
                      partial: "namespace_group_link",
                      locals: {
                        namespace_group_link: @namespace_group_link
                      } %>

<% end %>

<% if @namespace_group_link != false %>
  <%= turbo_stream.replace "new_namespace_group_link_modal",
                       partial: "invite_group_modal",
                       locals: {
                         open: @namespace_group_link.errors.any? ? true : false,
                         new_group_link: @namespace_group_link
                       } %>

  <%= turbo_stream.update (
                        if @namespace_group_link.errors.any?
                          "invite-group-alert"
                        else
                          "invited-group-alert"
                        end
                      ),
                      viral_alert(type:, message:) %>

<% end %>
