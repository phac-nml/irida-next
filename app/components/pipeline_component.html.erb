<div>
  <h2 class="text-4xl font-extrabold dark:text-white"><%= @title %></h2>
  <p class="my-4 text-lg text-gray-500"><%= @description %></p>
  <form data-controller="form_validation">
    <% @definitions.each do |key, value| %>
      <fieldset>
        <legend><%= value['title'] %></legend>
        <p class="mb-3 text-gray-500 dark:text-gray-400"><%= value['description'] %></p>

        <div class="grid gap-6 mb-6">
          <% value["properties"].each do |property, fields| %>
            <%= render Viral::Form::TextInputComponent.new(
              name: property,
              label: fields['description'],
              type: fields['type'],
              help: fields['help_text'],
              pattern: fields['pattern'],
              default: fields['default'],
              hidden: fields['hidden'],
            ) %>
          <% end %>
        </div>
      </fieldset>
    <% end %>
  </form>
</div>
