<%= tag.nav(
  class: "pagy nav flex-none",
  aria: { label: t("components.viral.pagy.pagination_component.aria_label") },
) do %>
  <%# Large screen layout with numbered buttons %>
  <%= tag.ul(class: "@max-lg:hidden @lg:inline-flex h-11 -space-x-px text-base") do %>
    <%# Previous page link %>
    <li>
      <% if @pagy.previous %>
        <%= tag.a(
          t("components.viral.pagy.pagination_component.previous"),
          href: @pagy.page_url(@pagy.previous),
          class:
            "flex items-center justify-center relative focus-visible:z-10 text-slate-700 bg-white border border-slate-300 font-medium text-sm px-4 h-11 hover:bg-slate-100 hover:text-slate-900 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-700 dark:hover:text-slate-100 border-e-0 rounded-s-lg",
          aria_label:
            t("components.viral.pagy.pagination_component.previous_aria_label"),
        ) %>
      <% else %>
        <%= tag.span(
          t("components.viral.pagy.pagination_component.previous"),
          class: "flex items-center justify-center px-4 h-11 ms-0 leading-tight border border-slate-300 text-slate-600 bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700 cursor-not-allowed rounded-s-lg",
        ) %>
      <% end %>
    </li>

    <%# Page links (series example: [1, :gap, 7, 8, "9", 10, 11, :gap, 36]) %>
    <% @pagy.send(:series).each do |item| %>
      <li>
        <% if item.is_a?(Integer) %>
          <%= tag.a(
            item,
            href: @pagy.page_url(item),
            class:
              "flex items-center justify-center relative focus-visible:z-10 text-slate-700 bg-white border border-slate-300 font-medium text-sm px-4 h-11 hover:bg-slate-100 hover:text-slate-900 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-700 dark:hover:text-slate-100",
            aria_label:
              t(
                "components.viral.pagy.pagination_component.item_aria_label",
                number: item,
              ),
          ) %>
        <% elsif item.is_a?(String) %>
          <%= tag.a(
            item,
            href: "javascript:void(0);",
            aria: { current: "page" },
            class:
              "flex items-center relative focus-visible:z-10 justify-center px-4 h-11 ms-0 leading-tight border border-primary-600 bg-primary-600 text-white dark:border-primary-600 dark:text-white font-medium text-sm cursor-default",
          ) %>
        <% elsif item == :gap %>
          <%= tag.span(
            "...",
            class: "flex items-center justify-center px-4 h-11 ms-0 leading-tight border border-slate-300 text-slate-600 bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700 cursor-default",
          ) %>
        <% end %>
      </li>
    <% end %>

    <%# Next page link %>
    <li>
      <% if @pagy.next %>
        <%= tag.a(
          t("components.viral.pagy.pagination_component.next"),
          href: @pagy.page_url(@pagy.next),
          class:
            "flex items-center justify-center relative focus-visible:z-10 text-slate-700 bg-white border border-slate-300 font-medium text-sm px-4 h-11 hover:bg-slate-100 hover:text-slate-900 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-700 dark:hover:text-slate-100 rounded-e-lg",
          aria_label: t("components.viral.pagy.pagination_component.next_aria_label"),
        ) %>
      <% else %>
        <%= tag.span(
          t("components.viral.pagy.pagination_component.next"),
          class: "flex items-center justify-center px-4 h-11 ms-0 leading-tight border border-slate-300 text-slate-600 bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700 cursor-not-allowed rounded-e-lg",
        ) %>
      <% end %>
    </li>
  <% end %>

  <%# Small screen layout with connected button group %>
  <%= tag.div(class: "@lg:hidden @max-lg:inline-flex items-stretch h-11 mb-10") do %>
    <%# Previous page link for small screens %>
    <% if @pagy.previous %>
      <%= tag.a(
        t("components.viral.pagy.pagination_component.previous"),
        href: @pagy.page_url(@pagy.previous),
        class:
          "flex items-center justify-center relative focus-visible:z-10 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 border border-slate-300 dark:border-slate-600 rounded-l-lg",
        aria: {
          label: t("components.viral.pagy.pagination_component.previous_aria_label"),
        },
      ) %>
    <% else %>
      <%= tag.span(
        t("components.viral.pagy.pagination_component.previous"),
        class: "flex items-center justify-center px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 dark:bg-slate-800 dark:text-slate-400 cursor-not-allowed border border-slate-300 dark:border-slate-600 rounded-l-lg",
      ) %>
    <% end %>

    <%# Page dropdown %>
    <%= tag.select(
      class: "bg-white border border-slate-300 dark:border-slate-600 text-slate-900 text-sm px-2 py-2 dark:bg-slate-700 dark:text-white flex-1 min-w-0 pr-8 focus:z-10 relative border-l-0 border-r-0",
      aria: {
        label: t("components.viral.pagy.pagination_component.select_page_aria_label"),
      },
      onchange: "window.location.href = this.options[this.selectedIndex].dataset.url",
    ) do %>
      <% (1..@pagy.pages).each do |page_num| %>
        <%= tag.option(
          (
            if page_num == @pagy.page
              t("components.viral.pagy.pagination_component.current_page", number: page_num)
            else
              t("components.viral.pagy.pagination_component.page_number", number: page_num)
            end
          ),
          value: page_num,
          selected: page_num == @pagy.page,
          data: { url: @pagy.page_url(page_num) },
          aria: {
            label:
              if page_num == @pagy.page
                t(
                  "components.viral.pagy.pagination_component.current_page_aria_label",
                  number: page_num,
                )
              else
                t(
                  "components.viral.pagy.pagination_component.item_aria_label",
                  number: page_num,
                )
              end,
          },
        ) %>
      <% end %>
    <% end %>

    <%# Next page link for small screens %>
    <% if @pagy.next %>
      <%= tag.a(
        t("components.viral.pagy.pagination_component.next"),
        href: @pagy.page_url(@pagy.next),
        class:
          "flex items-center justify-center relative focus-visible:z-10 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 border border-slate-300 dark:border-slate-600 rounded-r-lg",
        aria_label: t("components.viral.pagy.pagination_component.next_aria_label"),
      ) %>
    <% else %>
      <%= tag.span(
        t("components.viral.pagy.pagination_component.next"),
        class: "flex items-center justify-center px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 dark:bg-slate-800 dark:text-slate-400 cursor-not-allowed border border-slate-300 dark:border-slate-600 rounded-r-lg",
      ) %>
    <% end %>
  <% end %>
<% end %>
