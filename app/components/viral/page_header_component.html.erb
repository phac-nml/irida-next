<section class="w-full mb-6">
  <div
    class="
      flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 w-full
    "
  >
    <!-- Header Content -->
    <div class="flex flex-col gap-3 min-w-0 flex-1">
      <!-- Icon and Title Row -->
      <div class="flex items-start gap-3">
        <% if icon.present? %>
          <div class="flex-shrink-0 mt-1">
            <%= icon %>
          </div>
        <% end %>
        <div class="min-w-0 flex-1">
          <h1
            class="
              text-xl md:text-3xl lg:text-4xl font-bold leading-tight tracking-tight
              text-neutral-900 dark:text-white break-words
            "
            id="page-title"
          >
            <%= title %>
          </h1>
        </div>
      </div>
      <!-- Subtitle -->
      <% if subtitle.present? %>
        <div class="<%= icon? ? 'pl-12' : '' %>">
          <p
            class="
              text-lg text-neutral-600 dark:text-neutral-300 leading-relaxed break-words
            "
            id="page-subtitle"
          >
            <%= subtitle %>
          </p>
        </div>
      <% end %>
      <!-- PUID (Mobile: Last element, Desktop: After subtitle) -->
      <% if @id %>
        <div class="<%= icon? ? 'pl-12' : '' %> order-last lg:order-none">
          <div class="inline-block">
            <%= render PuidComponent.new(puid: id) %>
          </div>
        </div>
      <% end %>
    </div>
    <!-- Action Buttons -->
    <% if buttons? %>
      <div
        class="
          flex flex-col sm:flex-row gap-3 sm:gap-2 items-stretch sm:items-center w-full
          lg:w-auto lg:flex-shrink-0 lg:self-start
        "
      >
        <%= buttons %>
      </div>
    <% end %>
  </div>
</section>
