<section class="w-full mb-6">
  <div
    class="
      flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 w-full
    "
  >
    <!-- Header Content -->
    <div class="flex flex-col gap-3 min-w-0 flex-1">
      <!-- Icon and Title Row -->
      <div class="flex items-start gap-3">
        <% if icon.present? %>
          <div class="flex-shrink-0 mt-1">
            <%= icon %>
          </div>
        <% end %>
        <div class="min-w-0 flex-1">
          <%= pathogen_heading(level: 1, class: "break-words") do %>
            <%= title %>
          <% end %>
        </div>
      </div>
      <!-- Subtitle -->
      <% if subtitle.present? %>
        <div class="<%= icon? ? 'pl-12' : '' %>">
          <%= pathogen_text(variant: :subdued, class: "break-words") do %>
            <%= subtitle %>
          <% end %>
        </div>
      <% end %>
      <!-- PUID (Mobile: Last element, Desktop: After subtitle) -->
      <% if @id %>
        <div class="<%= icon? ? 'pl-12' : '' %> order-last lg:order-none">
          <div class="inline-block">
            <%= render PuidComponent.new(puid: id) %>
          </div>
        </div>
      <% end %>
    </div>
    <!-- Action Buttons -->
    <% if buttons? %>
      <div
        class="
          flex flex-col sm:flex-row gap-3 sm:gap-2 items-stretch sm:items-center w-full
          lg:w-auto lg:flex-shrink-0 lg:self-start
        "
      >
        <%= buttons %>
      </div>
    <% end %>
  </div>
</section>
