<span
  data-controller="viral--dialog"
  data-viral--dialog-open-value="<%= open %>"
>

  <% if trigger.present? %>
    <%= trigger %>
  <% end %>
  <div style="height: 0px">
    <dialog
      id="dialog"
      class="
        relative
        w-full
        max-w-2xl
        p-0
        bg-white
        rounded-lg
        drop-shadow-md
        dark:bg-slate-800
        focus:outline-none
        backdrop:bg-slate-400/30
        backdrop:dark:bg-slate-900/40
        backdrop:backdrop-blur-sm
        <%= size %>
      "
    >
      <% if header.present? %>
        <%= header %>
      <% end %>

      <div class="max-h-[calc(100vh-200px)] overflow-auto">
        <% if sections.present? %>
          <% sections.each_with_index do |section, index| %>
            <%= section %>
            <% if sections.length - 1 != index %>
              <hr class="h-px my-4 bg-slate-200 border-0 dark:bg-slate-600"/>
            <% end %>
          <% end %>
        <% end %>
      </div>

      <% if render_footer? %>
        <div
          class="
            flex
            items-center
            p-5
            space-x-2
            border-t
            rounded-b
            border-slate-200
            dark:border-slate-600
          "
        >
          <% if primary_action? %>
            <%= primary_action %>
          <% end %>
          <% if secondary_actions? %>
            <% secondary_actions.each do |action| %>
              <%= action %>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </dialog>
  </div>
</span>
