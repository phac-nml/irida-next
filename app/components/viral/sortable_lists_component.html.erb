<% if title.present? || description.present? %>
  <div>
    <% if title.present? %>
      <div class="block text-sm font-medium text-slate-900 dark:text-white"><%= title %></div>
    <% end %>

    <% if description.present? %>
      <div class="text-base leading-relaxed font-medium text-slate-500 dark:text-slate-400"><%= description %></div>
    <% end %>
  </div>
<% end %>

<% unless templates.empty? %>
  <div>
    <label for="template-selector" class="mb-2 block text-sm font-medium text-gray-900 dark:text-white">
      <%= template_label %>
    </label>

    <select
      id="template-selector"
      data-action="viral--sortable-lists--two-lists-selection#setTemplate"
      data-viral--sortable-lists--two-lists-selection-target="templateSelector"
      class="
        block w-full rounded-lg border border-slate-300 bg-slate-50 p-2.5 text-sm text-slate-900
        dark:border-slate-600 dark:bg-slate-700 dark:text-white dark:placeholder-slate-400
      "
    >
      <option value="none"><%= t("components.viral.sortable_lists_component.no_template") %></option>

      <%= templates.each do |template| %>
        <option data-fields="<%= template[:fields] %>" value="<%= template[:id] %>"><%= template[:name] %></option>
      <% end %>
    </select>
  </div>
<% end %>

<div class="grid gap-2 max-sm:grid-cols-1 sm:grid-cols-2">
  <% lists.each do |list| %>
    <%= list %>
  <% end %>
</div>

<div
  class="sr-only"
  aria-live="polite"
  data-viral--sortable-lists--two-lists-selection-target="ariaLiveUpdate"
  data-translations="<%= aria_live_translations %>"
></div>

<template data-viral--sortable-lists--two-lists-selection-target="checkmarkTemplate">
  <span class="pointer-events-none"><%= pathogen_icon(:check, size: :sm, color: :success) %></span>
</template>

<template data-viral--sortable-lists--two-lists-selection-target="hiddenCheckmarkTemplate">
  <span aria-hidden="true" class="pointer-events-none mx-2"></span>
</template>
