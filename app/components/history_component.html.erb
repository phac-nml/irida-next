<ol class="relative border-s border-slate-200 dark:border-slate-700">
  <% @data.each_with_index do |changes, index| %>
    <li class="mb-10 ms-6">
      <span
        class="
          absolute
          flex
          items-center
          justify-center
          w-6
          h-6
          bg-green-100
          rounded-full
          -start-3
          dark:bg-green-100
        "
      ></span>
      <h3
        class="
          flex
          items-center
          mb-1
          font-semibold
          text-slate-900
          dark:text-white
        "
      >
        <% unless @url.nil? %>
          <%= link_to t(:"components.history.link_text", version: changes[:version]),
          path_with_params(@url, { version: changes[:version] }),
          data: {
            turbo_stream: true
          },
          class: "text-slate-800 dark:text-slate-300 hover:underline" %>
          <% if index == 0 %>
            <span
              class="
                bg-green-200
                text-green-800
                text-xs
                font-medium
                ml-2
                px-2.5
                py-0.5
                rounded-full
                dark:bg-green-900
                dark:text-green-300
              "
            ><%= t(:"components.history.latest") %></span>
          <% end %>
        <% else %>
          <%= t(:"components.history.link_text", version: changes[:version]) %>
        <% end %>
      </h3>

      <time
        class="
          block
          mb-2
          text-sm
          font-normal
          leading-none
          text-slate-400
          dark:text-slate-500
        "
      ><%= changes[:updated_at] %></time>
      <p class="mb-4 text-base font-normal text-slate-500 dark:text-slate-400">
        <% if changes[:version] == 1 %>
          <%= t(:"components.history.created_by", type: @type, user: changes[:user]) %>
        <% elsif changes[:deleted] %>
          <%= t(:"components.history.deleted_by", type: @type, user: changes[:user]) %>
        <% elsif changes[:restored] %>
          <%= t(:"components.history.restored_by", type: @type, user: changes[:user]) %>
        <% elsif changes[:transferred] %>
          <%= t(:"components.history.transferred_by", type: @type, user: changes[:user]) %>
        <% else %>
          <%= t(:"components.history.modified_by", type: @type, user: changes[:user]) %>
        <% end %>
      </p>
    </li>
  <% end %>
</ol>
