<li class="group/item relative">
  <%= link_to url,
    class: class_names(
      "flex items-center p-2.5 m-1 rounded-lg transition-colors duration-200 focus-visible:z-10",
      {
        "bg-primary-100 text-primary-800 dark:bg-slate-800 dark:text-primary-400 font-medium": selected,
        "text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800/70": !selected
      }
    ),
    aria: { current: ("page" if selected) } do %>
    <%= tag.div(
      class: class_names(
        "mr-3 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-colors duration-200",
        {
          "bg-primary-300 text-primary-800 dark:bg-slate-700/80": selected,
          "bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400 group-hover/item:bg-slate-200/70 dark:group-hover/item:bg-slate-700/50": !selected
        }
      )
    ) do %>
      <% if avatar %>
        <span class="rounded-lg bg-white">
          <%= viral_avatar(name: label, colour_string: "#{label}-#{url}", size: :xs) %>
        </span>
      <% else %>
        <%= create_icon %>
      <% end %>
    <% end %>

    <span class="line-clamp-2 text-sm font-medium transition-opacity duration-200 ease-in-out" title="<%= label %>">
      <% if avatar %>
        <turbo-frame id="namespace_name"><%= label %></turbo-frame>
      <% else %>
        <%= label %>
      <% end %>
    </span>

    <% if defined?(badge) && badge.present? %>
      <span
        class="
          ml-auto rounded-full bg-primary-100 px-2 py-0.5 text-xs font-medium text-primary-800
          dark:bg-primary-900/30 dark:text-primary-300
        "
      >
        <%= badge %>
      </span>
    <% end %>
  <% end %>
</li>
