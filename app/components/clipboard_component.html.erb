<%= render Viral::BaseComponent.new(tag: 'div', **system_arguments, data: {
  controller: "clipboard",
  "clipboard-item-value": value }) do %>
  <div class="relative mr-2 grow">
    <input
      type="text"
      data-clipboard-target="input"
      class="
        w-full
        font-mono
        text-sm
        text-slate-900
        border
        border-slate-300
        rounded-md
        bg-slate-50
        focus:ring-primary-500
        focus:border-primary-500
        dark:bg-slate-700
        dark:border-slate-600
        dark:placeholder-slate-400
        dark:text-white
        dark:focus:ring-primary-500
        dark:focus:border-primary-500
      "
      value="<%= '*' * value.length %>"
      readonly
      aria-label="<%= label %>"
    >
    <button
      type="button"
      class="
        absolute
        inset-y-0
        bottom-0
        right-0
        p-2
        rounded-r-md
        focus:outline-none
      "
      data-action="
        click->clipboard#toggleVisibility
      "
      aria-label="<%= t(:'components.clipboard.toggle_visible') %>"
    >
      <span data-clipboard-target="hide">
        <%= viral_icon(name: "eye", classes: "w-5 h-5 text-slate-500 dark:text-slate-400") %>
      </span>
      <span data-clipboard-target="view" class="flex items-center hidden">
        <%= viral_icon(name: "eye_slash", classes: "w-5 h-5") %>
      </span>
    </button>
  </div>
  <button
    type="submit"
    data-action="
        click->clipboard#copyToClipboard
      "
    class="button button--size-sm button--state-primary p-2"
  >
    <span data-clipboard-target="initial"><%= t("components.clipboard.copy") %></span>
    <span data-clipboard-target="copied" class="flex items-center hidden"><%= viral_icon(name: "check", classes: "w-5 h-5") %>
      <%= t("components.clipboard.copied") %></span>
  </button>
<% end %>
