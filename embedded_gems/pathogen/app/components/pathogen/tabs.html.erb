<%= tag.div(
  id: "#{@id}-container",
  data: {
    controller: @system_arguments[:data][:controller],
    "pathogen--tabs-default-index-value" =>
      @system_arguments[:data]["pathogen--tabs-default-index-value"],
    "pathogen--tabs-sync-url-value" => @system_arguments[:data]["pathogen--tabs-sync-url-value"],
  },
  class: class_names("flex" => @orientation == :vertical),
) do %>
  <%= tag.nav(
    id: @id,
    role: "tablist",
    aria: {
      label: @label,
      orientation: @orientation,
    },
    class:
      class_names(
        "flex",
        @system_arguments[:class],
        "flex-col" => @orientation == :vertical,
        "flex-col sm:flex-row sm:flex-grow" => @orientation != :vertical,
      ),
    **@system_arguments.except(:id, :data, :class),
  ) do %>
    <%# Tab list container %>
    <%= tag.div(
      class:
        class_names(
          "text-sm font-medium text-center text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-700",
          "flex flex-col border-r min-w-[200px]" => @orientation == :vertical,
          "w-full flex flex-wrap -mb-px border-b" => @orientation != :vertical,
        ),
      role: "presentation",
    ) do %>
      <% tabs.each do |tab| %>
        <%= tab %>
      <% end %>
    <% end %>
  <% end %>

  <%# Panel container %>
  <%= tag.div(
    class: class_names("flex-1 pl-6" => @orientation == :vertical, "mt-4" => @orientation != :vertical),
  ) do %>
    <% panels.each do |panel| %>
      <%= panel %>
    <% end %>

    <% lazy_panels.each do |panel| %>
      <%= panel %>
    <% end %>
  <% end %>
<% end %>
