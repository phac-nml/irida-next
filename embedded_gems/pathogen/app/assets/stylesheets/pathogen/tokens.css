/* Foundation tokens (Pathogen-owned defaults with host override points) */
:root {
  /* --- Primitive palette (oklch) --- */
  --pathogen-color-neutral-950: oklch(0.269 0.036 263.7);
  --pathogen-color-neutral-900: oklch(0.326 0.048 264.3);
  --pathogen-color-neutral-700: oklch(0.483 0.05 260.3);
  --pathogen-color-neutral-500: oklch(0.64 0.037 259.4);
  --pathogen-color-neutral-300: oklch(0.824 0.025 259.8);
  --pathogen-color-neutral-200: oklch(0.904 0.017 256.3);
  --pathogen-color-neutral-100: oklch(0.952 0.01 248.1);
  --pathogen-color-neutral-50: oklch(0.981 0.005 248.1);

  --pathogen-color-brand-500: oklch(0.723 0.192 149.6);
  --pathogen-color-brand-600: oklch(0.627 0.17 149.2);
  --pathogen-color-brand-700: oklch(0.527 0.137 150.1);
  --pathogen-color-success-500: oklch(0.627 0.17 149.2);
  --pathogen-color-warning-500: oklch(0.681 0.142 75.8);
  --pathogen-color-danger-500: oklch(0.577 0.215 27.3);

  /* --- Semantic aliases --- */
  --pathogen-color-text-default: var(--pathogen-color-neutral-900);
  --pathogen-color-text-muted: var(--pathogen-color-neutral-700);
  --pathogen-color-border-subtle: var(--pathogen-color-neutral-100);
  --pathogen-color-border-default: var(--pathogen-color-neutral-200);
  --pathogen-color-border-strong: var(--pathogen-color-neutral-300);
  --pathogen-color-surface-default: oklch(1 0 0);
  --pathogen-color-surface-subtle: var(--pathogen-color-neutral-50);
  --pathogen-color-surface-sticky: oklch(0.962 0.012 252.2);
  --pathogen-color-focus-ring: var(--pathogen-color-neutral-700);
  --pathogen-color-link: color-mix(
    in oklab,
    var(--pathogen-color-text-default) 76%,
    var(--pathogen-color-brand-600) 24%
  );
  --pathogen-color-highlight: color-mix(
    in oklab,
    var(--pathogen-color-brand-500) 34%,
    transparent
  );

  /* --- Typography --- */
  --pathogen-font-sans:
    "Inter", "Avenir Next", "Segoe UI", -apple-system, BlinkMacSystemFont,
    sans-serif;
  --pathogen-font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
  --pathogen-text-sm: 0.875rem;
  --pathogen-leading-normal: 1.45;

  /* --- Spacing & shape --- */
  --pathogen-radius-control: 0.375rem;
  --pathogen-radius-surface: 0.5rem;
  --pathogen-space-cell-x: 0.875rem;
  --pathogen-space-cell-y: 0.75rem;
  --pathogen-shadow-border: oklch(0.326 0.048 264.3 / 0.14);
}

/* Dark mode: system preference (standalone gem usage) */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --pathogen-color-text-default: oklch(0.919 0.017 256.3);
    --pathogen-color-text-muted: oklch(0.826 0.029 258.4);
    --pathogen-color-border-subtle: oklch(0.29 0.04 263);
    --pathogen-color-border-default: oklch(0.376 0.048 263.7);
    --pathogen-color-border-strong: oklch(0.454 0.056 260);
    --pathogen-color-surface-default: oklch(0.198 0.037 264.2);
    --pathogen-color-surface-subtle: oklch(0.25 0.051 262.5);
    --pathogen-color-surface-sticky: oklch(0.275 0.058 261.5);
    --pathogen-color-focus-ring: oklch(0.826 0.029 258.4);
    --pathogen-color-link: color-mix(
      in oklab,
      var(--pathogen-color-text-default) 82%,
      var(--pathogen-color-brand-500) 18%
    );
    --pathogen-color-highlight: color-mix(
      in oklab,
      var(--pathogen-color-brand-500) 56%,
      transparent
    );
    --pathogen-shadow-border: oklch(0.826 0.029 258.4 / 0.24);
  }
}

/* Dark mode: host app class-based toggle */
.dark {
  --pathogen-color-text-default: oklch(0.919 0.017 256.3);
  --pathogen-color-text-muted: oklch(0.826 0.029 258.4);
  --pathogen-color-border-subtle: oklch(0.29 0.04 263);
  --pathogen-color-border-default: oklch(0.376 0.048 263.7);
  --pathogen-color-border-strong: oklch(0.454 0.056 260);
  --pathogen-color-surface-default: oklch(0.198 0.037 264.2);
  --pathogen-color-surface-subtle: oklch(0.25 0.051 262.5);
  --pathogen-color-surface-sticky: oklch(0.275 0.058 261.5);
  --pathogen-color-focus-ring: oklch(0.826 0.029 258.4);
  --pathogen-color-link: color-mix(
    in oklab,
    var(--pathogen-color-text-default) 82%,
    var(--pathogen-color-brand-500) 18%
  );
  --pathogen-color-highlight: color-mix(
    in oklab,
    var(--pathogen-color-brand-500) 56%,
    transparent
  );
  --pathogen-shadow-border: oklch(0.826 0.029 258.4 / 0.24);
}
